<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kaisn.dao.EmployeeMapper">

	<resultMap type="com.kaisn.pojo.Employee" id="employee">
		<id column="EMP_ID" jdbcType="DECIMAL" property="empId" />
	    <result column="EMP_NAME" jdbcType="VARCHAR" property="empName" />
	    <result column="GENDER" jdbcType="CHAR" property="gender" />
	    <result column="EMAIL" jdbcType="VARCHAR" property="email" />
	    <association property="department" javaType="com.kaisn.pojo.Department">
	    	<id column="dept_id" jdbcType="DECIMAL" property="deptId" />
    		<result column="dept_name" jdbcType="VARCHAR" property="deptName" />
	    </association>
	</resultMap>
	
	<select id="getEmployeeList" resultMap="employee">
		select 
		e.emp_id,
		e.emp_name,
		e.gender,
		e.email,
		d.dept_id,
		d.dept_name 
		from t_emp e 
		left join t_dept d 
		on e.d_id=d.dept_id
	</select>
	
	<select id="getEmployeeCountByName" parameterType="java.lang.String" resultType="int"></select>

</mapper>